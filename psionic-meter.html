<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Psionic Meter v1.0 - Project Overview</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #34495e;
            --accent-color: #3498db;
            --background-color: #f8f9fa;
            --text-color: #2c3e50;
            --border-color: #e9ecef;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            padding: 2rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 3rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        h1, h2, h3 {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            line-height: 1.3;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 2rem;
        }

        h2 {
            font-size: 1.8rem;
            margin-top: 3rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--border-color);
        }

        p {
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }

        .intro {
            font-size: 1.2rem;
            line-height: 1.7;
            color: var(--secondary-color);
            margin-bottom: 2rem;
        }

        .system-diagram {
            margin: 3rem auto;
            padding: 2rem;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            text-align: center;
            max-width: 800px;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .feature-card {
            padding: 1.5rem;
            background: white;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            transition: transform 0.2s ease;
        }

        .feature-card:hover {
            transform: translateY(-2px);
        }

        .feature-card h3 {
            color: var(--accent-color);
            margin-bottom: 1rem;
        }

        .technical-specs {
            background: #f8f9fa;
            padding: 2rem;
            border-radius: 8px;
            margin: 2rem 0;
        }

        /* Psionic Meter Styles */
        .meter-container {
            margin: 3rem 0;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        .meter-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .meter-header h3 {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .meter-header p {
            color: var(--secondary-color);
            font-size: 0.9rem;
            margin: 0;
        }

        .meter-controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 2rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 500;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            min-width: 120px;
        }

        .btn-primary {
            background-color: #4f46e5;
            color: white;
        }

        .btn-demo {
            background-color: #f97316;
            color: white;
        }

        .btn-reset {
            background-color: #3b82f6;
            color: white;
        }

        .meter-graph {
            position: relative;
            height: 400px;
            margin-bottom: 1.5rem;
            background: white;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .current-value {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.5rem;
            font-weight: 600;
            font-family: 'SF Mono', 'Menlo', monospace;
            background: white;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            z-index: 10;
        }

        .meter-status {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 1rem;
            background: white;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #d1d5db;
        }

        .status-indicator.active {
            background-color: #4f46e5;
            box-shadow: 0 0 12px rgba(79, 70, 229, 0.4);
        }

        .status-indicator.demo {
            background-color: #f97316;
            box-shadow: 0 0 12px rgba(249, 115, 22, 0.4);
        }

        .status-text {
            font-size: 0.875rem;
            color: var(--secondary-color);
        }

        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }
            
            .container {
                padding: 1.5rem;
            }

            h1 {
                font-size: 2rem;
            }

            .features {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Psionic Meter v1.0</h1>
        
        <div class="intro">
            <p>Welcome to the intersection of Quantum Physics and Computer Science with the Psionic Meter v1.0. This innovative tool is designed to explore the potential influence of human consciousness on random number generation. By creating a feedback loop between user intention, a random number generator, and real-time visualization, the Psionic Meter aims to investigate and train the subtle effects of consciousness on measurable outcomes.</p>
            
            <p>Recent scientific studies have shown intriguing results where biological entities, such as rats, influenced the random path of a robot, guiding it towards them. Our project seeks to build upon these findings, offering a rigorous and quantifiable approach to studying consciousness-driven effects.</p>
        </div>

        <h2>System Architecture</h2>
        <p>The Psionic Meter employs a sophisticated closed-loop system that facilitates real-time interaction between consciousness and quantum-scale events. Below is a detailed diagram of the system's core components and their interactions:</p>

        <div class="system-diagram">
            <div class="mermaid">
                %%{init: {'theme': 'base', 'themeVariables': { 'background': '#ffffff' }}}%%
                flowchart TD
                    subgraph Operator["Operator Interface"]
                        C1["ðŸ“Š Conscious Intent\nVolitional Focus (Â±0.15Ïƒ)"]
                    end

                    subgraph Core["Core System"]
                        R1[/"ðŸ”„ Pseudorandom Number Generator\nÎ¼=0, Ïƒ=0.577\n60Hz Sample Rate (Î”t=16.67ms)"/]
                    end

                    subgraph Analysis["Statistical Analysis"]
                        P1["ðŸ“ˆ Circular Buffer\n600-sample window"]
                    end

                    subgraph Feedback["Feedback Loop"]
                        F1["ðŸ“‰ Real-time Display\n60Hz Refresh Rate"]
                    end

                    C1 -->|"Intent"| R1
                    R1 -->|"Sample Stream"| P1
                    P1 -->|"Rolling Mean"| F1
                    F1 -->|"Visual\nFeedback"| C1

                    classDef default fill:white,stroke:#333,stroke-width:2px,color:#666
                    classDef core fill:white,stroke:#2c3e50,stroke-width:3px,font-weight:bold,color:#666
                    classDef container fill:white,stroke:#666,stroke-width:1px,stroke-dasharray: 5 5
                    
                    class R1 core
                    class Operator,Core,Analysis,Feedback container
            </div>
        </div>

        <h2>Interactive Demonstration</h2>
        <p>Experience the Psionic Meter directly through our interactive demonstration below. This live implementation allows you to observe and interact with the system in real-time:</p>

        <div class="meter-container glass-morphism">
            <header class="meter-header">
                <h3>PSIONIC METER</h3>
                <p>v1.0 (Build 002)</p>
            </header>

            <div class="meter-controls">
                <button id="toggleBtn" class="btn btn-primary">â–¶ Start</button>
                <button id="demoBtn" class="btn btn-demo">ðŸ”® Demo Mode</button>
                <button id="resetBtn" class="btn btn-reset">ðŸ”„ Reset</button>
            </div>

            <div class="meter-graph">
                <div id="current-average" class="current-value">0.0000</div>
                <div id="graph"></div>
            </div>

            <div class="meter-status">
                <div id="indicator" class="status-indicator"></div>
                <span id="modeText" class="status-text">Current mode: Normal Operation</span>
            </div>
        </div>

        <div class="features">
            <div class="feature-card">
                <h3>High-Precision Sampling</h3>
                <p>Operating at 60Hz, the system generates high-quality random numbers with uniform distribution between -1 and 1, providing a robust foundation for detecting subtle influences.</p>
            </div>
            <div class="feature-card">
                <h3>Real-Time Analysis</h3>
                <p>Advanced statistical analysis is performed on a rolling 10-second window (600 samples), enabling immediate feedback while maintaining computational efficiency.</p>
            </div>
            <div class="feature-card">
                <h3>Interactive Feedback</h3>
                <p>The system provides instantaneous visual feedback through a professional-grade plotting interface, allowing users to observe potential consciousness-driven effects in real-time.</p>
            </div>
        </div>

        <h2>Technical Specifications</h2>
        <div class="technical-specs">
            <p><strong>Sample Rate:</strong> 60Hz (16.67ms intervals)</p>
            <p><strong>Buffer Size:</strong> 600 samples (10-second window)</p>
            <p><strong>Distribution:</strong> Uniform random distribution (-1.0 to 1.0)</p>
            <p><strong>Analysis Method:</strong> O(1) rolling average calculation</p>
            <p><strong>Visualization:</strong> Real-time line plot with 0.1 increment gridlines</p>
            <p><strong>Performance:</strong> Optimized for consistent 60FPS operation</p>
        </div>

        <h2>Research Applications</h2>
        <p>The Psionic Meter serves as a valuable tool for researchers investigating consciousness-matter interactions, offering:</p>
        <ul style="margin-left: 2rem; margin-bottom: 2rem;">
            <li>Quantifiable measurements of potential consciousness effects</li>
            <li>Reproducible experimental conditions</li>
            <li>High-resolution temporal data</li>
            <li>Standardized protocol for consciousness-driven studies</li>
        </ul>

        <script>
            // Initialize Mermaid for system diagram
            mermaid.initialize({
                startOnLoad: true,
                theme: 'base',
                themeVariables: {
                    background: '#ffffff'
                }
            });

            // System Configuration
            const config = {
                sampleRate: 60,
                bufferSize: 600,
                demoInjectionEvery: 60,
                demoInjectionDuration: 10,
                demoValue: () => 0.8 + Math.random() * 0.2
            };

            // System State
            let state = {
                isRunning: false,
                isDemoMode: false,
                buffer: [],
                sum: 0,
                demoCounter: 0,
                isInjecting: false,
                lastUpdate: Date.now(),
                animationFrame: null
            };

            // Load Plotly
            async function loadPlotly(retryCount = 0) {
                const maxRetries = 3;
                const cdnUrls = [
                    'https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.20.0/plotly.min.js',
                    'https://cdn.plot.ly/plotly-2.20.0.min.js'
                ];
                
                return new Promise(async (resolve, reject) => {
                    try {
                        const script = document.createElement('script');
                        script.src = cdnUrls[retryCount % cdnUrls.length];
                        script.crossOrigin = 'anonymous';
                        
                        script.onload = () => {
                            console.log('Plotly loaded successfully');
                            resolve();
                        };
                        
                        script.onerror = async () => {
                            if (retryCount < maxRetries) {
                                try {
                                    await loadPlotly(retryCount + 1);
                                    resolve();
                                } catch (err) {
                                    reject(err);
                                }
                            } else {
                                reject(new Error('Failed to load Plotly'));
                            }
                        };
                        
                        document.head.appendChild(script);
                    } catch (error) {
                        reject(error);
                    }
                });
            }

            // Initialize the meter
            async function initializeMeter() {
                try {
                    await loadPlotly();
                    initializeGraph();
                    setupEventListeners();
                } catch (error) {
                    console.error('Failed to initialize:', error);
                    const graphDiv = document.getElementById('graph');
                    if (graphDiv) {
                        graphDiv.innerHTML = `
                            <div style="color: #ef4444; padding: 2rem; text-align: center;">
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">Unable to Load Visualization</div>
                                <div style="color: #991b1b; margin-bottom: 1rem;">${error.message}</div>
                                <button onclick="window.location.reload()" style="
                                    background: #dc2626;
                                    color: white;
                                    border: none;
                                    padding: 0.5rem 1rem;
                                    border-radius: 0.5rem;
                                    cursor: pointer;
                                    font-weight: 500;
                                ">Retry Loading</button>
                            </div>
                        `;
                    }
                }
            }

            // Graph Configuration
            const layout = {
                showlegend: false,
                margin: { t: 40, b: 60, l: 80, r: 100 },
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                xaxis: {
                    range: [0, 10],
                    title: {
                        text: 'Seconds Ago',
                        font: { color: '#4b5563', size: 14 },
                        standoff: 20
                    },
                    fixedrange: true,
                    autorange: 'reversed',
                    gridcolor: '#e5e7eb',
                    griddash: 'dot',
                    linecolor: '#d1d5db',
                    tickfont: { color: '#6b7280', size: 12 },
                    zerolinecolor: '#d1d5db',
                    zerolinewidth: 2
                },
                yaxis: {
                    range: [-1, 1],
                    title: {
                        text: 'Average',
                        font: { color: '#4b5563', size: 14 },
                        standoff: 30
                    },
                    fixedrange: true,
                    gridcolor: '#e5e7eb',
                    griddash: 'dot',
                    linecolor: '#d1d5db',
                    tickfont: { color: '#6b7280', size: 12 },
                    tickvals: Array.from({length: 21}, (_, i) => -1 + i * 0.1),
                    zerolinecolor: '#d1d5db',
                    zerolinewidth: 2
                }
            };

            let plotData = [{
                x: Array(config.bufferSize).fill().map((_, i) => 10 - (i / config.bufferSize) * 10),
                y: Array(config.bufferSize).fill(0),
                type: 'scatter',
                mode: 'lines',
                line: { color: '#dc2626', width: 2 }
            }];

            function initializeGraph() {
                Plotly.newPlot('graph', plotData, layout, {
                    responsive: true,
                    displayModeBar: true,
                    modeBarButtonsToRemove: ['lasso2d', 'select2d'],
                    displaylogo: false
                });

                window.addEventListener('resize', () => {
                    Plotly.Plots.resize('graph');
                });
            }

            function resetSystem() {
                state.buffer = [];
                state.sum = 0;
                state.demoCounter = 0;
                state.isInjecting = false;
                plotData[0].y = Array(config.bufferSize).fill(0);
                document.getElementById('current-average').textContent = '0.0000';
                Plotly.react('graph', plotData, layout);
                updateIndicator();
            }

            function generateNumber() {
                if (state.isDemoMode && state.isInjecting) {
                    return config.demoValue();
                }
                return Math.random() * 2 - 1;
            }

            function updateSystem() {
                const now = Date.now();
                const elapsed = now - state.lastUpdate;
                const requiredUpdates = Math.min(
                    Math.floor(elapsed / (1000 / config.sampleRate)),
                    config.bufferSize
                );
                
                for(let i = 0; i < requiredUpdates; i++) {
                    const num = generateNumber();
                    
                    if(state.buffer.length >= config.bufferSize) {
                        state.sum -= state.buffer.shift();
                    }
                    state.buffer.push(num);
                    state.sum += num;

                    if(state.isDemoMode) {
                        state.demoCounter++;
                        if(state.isInjecting) {
                            if(state.demoCounter >= config.demoInjectionDuration) {
                                state.isInjecting = false;
                                state.demoCounter = 0;
                            }
                        } else {
                            if(state.demoCounter >= config.demoInjectionEvery) {
                                state.isInjecting = true;
                                state.demoCounter = 0;
                            }
                        }
                    }
                }

                if(state.buffer.length > 0) {
                    const average = state.sum / state.buffer.length;
                    plotData[0].y = [
                        ...plotData[0].y.slice(requiredUpdates),
                        ...Array(requiredUpdates).fill(average)
                    ];
                    document.getElementById('current-average').textContent = 
                        average.toFixed(4).padStart(6, '0');
                }

                state.lastUpdate = now;
            }

            function updateIndicator() {
                const indicator = document.getElementById('indicator');
                indicator.className = 'status-indicator';
                if(state.isRunning) {
                    indicator.classList.add(state.isDemoMode ? 'demo' : 'active');
                }
            }

            function animate() {
                if(!state.isRunning) return;
                updateSystem();
                Plotly.react('graph', plotData, layout);
                state.animationFrame = requestAnimationFrame(animate);
            }

            function setupEventListeners() {
                document.getElementById('toggleBtn').addEventListener('click', () => {
                    state.isRunning = !state.isRunning;
                    document.getElementById('toggleBtn').textContent = 
                        state.isRunning ? 'â¸ Pause' : 'â–¶ Start';
                    updateIndicator();
                    
                    if(state.isRunning) {
                        state.lastUpdate = Date.now();
                        animate();
                    } else {
                        cancelAnimationFrame(state.animationFrame);
                    }
                });

                document.getElementById('demoBtn').addEventListener('click', () => {
                    const wasDemoMode = state.isDemoMode;
                    state.isDemoMode = !state.isDemoMode;
                    
                    if(state.isDemoMode) {
                        if(!state.isRunning) {
                            state.isRunning = true;
                            document.getElementById('toggleBtn').textContent = 'â¸ Pause';
                        }
                        plotData[0].line.color = '#f97316';
                    } else {
                        plotData[0].line.color = '#dc2626';
                        if(state.isRunning && wasDemoMode) {
                            state.isRunning = false;
                            document.getElementById('toggleBtn').textContent = 'â–¶ Start';
                        }
                    }
                    
                    document.getElementById('demoBtn').textContent = 
                        state.isDemoMode ? 'ðŸš« Exit Demo' : 'ðŸ”® Demo Mode';
                    document.getElementById('modeText').textContent = 
                        state.isDemoMode ? 'Current mode: Demo (Simulated Influence)' : 'Current mode: Normal Operation';
                    
                    Plotly.react('graph', plotData, layout);
                    updateIndicator();
                    
                    if(state.isRunning) {
                        state.lastUpdate = Date.now();
                        animate();
                    }
                });

                document.getElementById('resetBtn').addEventListener('click', resetSystem);

                // Handle tab visibility changes
                document.addEventListener('visibilitychange', () => {
                    if(document.hidden && state.isRunning) {
                        state.isRunning = false;
                        document.getElementById('toggleBtn').textContent = 'â–¶ Start';
                        updateIndicator();
                        cancelAnimationFrame(state.animationFrame);
                    }
                });

                // Handle errors gracefully
                window.addEventListener('error', (event) => {
                    console.error('System error:', event.error);
                    if(state.isRunning) {
                        state.isRunning = false;
                        document.getElementById('toggleBtn').textContent = 'â–¶ Start';
                        updateIndicator();
                        cancelAnimationFrame(state.animationFrame);
                    }
                });
            }

            // Initialize the system when the DOM is ready
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initializeMeter);
            } else {
                initializeMeter();
            }
        </script>
    </div>
</body>
</html>
        </script>
    </div>
</body>
</html>
